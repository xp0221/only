<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>云栖小镇数字驾驶舱</title>
  <style>
    html {
      font-size: 100px;
    }
  </style>
  <link rel="stylesheet" href="<%=appPrefix %>static/nprogress/custom-nprogress.css" />
  <script src="<%=appPrefix %>static/nprogress/nprogress.js"></script>
  <script src="<%=appPrefix %>static/nprogress/nprogressUtils.js"></script>
  <script src="<%=appPrefix %>static/config.js"></script>
  <script type="text/javascript"
    src="https://webapi.amap.com/maps?v=1.4.12&key=96a92e7858256cc542b18472bd88d882&plugin=AMap.MarkerClusterer,Map3D">
    </script>
</head>
<body>
  <div id="app" style="width:100%;height:100%"></div>
  <script>
    //orientationchange方向改变事件
    (function (doc, win) {
      var docEl = doc.documentElement,//根元素html
        //判断窗口有没有orientationchange这个方法，有就赋值给一个变量，没有就返回resize方法。
        resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize', recalc = function () {
          var clientWidth = docEl.clientWidth;
          if (!clientWidth) return;//把document的fontSize大小设置成跟窗口成一定比例的大小，从而实现响应式效果。
          docEl.style.fontSize = clientWidth / 38.40 + 'px';
          // docEl.style.fontSize = clientWidth * (win.devicePixelRatio || 1) / 40.96 + 'px';
        };
      //alert(docEl)
      if (!doc.addEventListener) return;
      win.addEventListener(resizeEvt, recalc, false);
      //addEventListener事件方法接受三个参数：
      // 第一个是事件名称比如点击事件onclick，
      // 第二个是要执行的函数，
      // 第三个是布尔值
      doc.addEventListener('DOMContentLoaded', recalc, false)//绑定浏览器缩放与加载时间
    })(document, window);
  </script>
  <script type="text/html" id="splash-template">
    <div class="splash card">
      <div role="spinner"><div class="spinner-icon"></div></div>
      <div style="width:100%;height:100%" class="lds-ellipsis">
        <div><div></div></div>
        <div><div></div></div>
        <div><div></div></div>
        <div><div></div></div>
        <div><div></div></div>
      </div>
      <div class="nprogress"><div class="nprogress-bar" role="bar"></div></div>
    </div>
  </script>
  <script>
    NProgress.configure({template: document.getElementById('splash-template').innerHTML});
    nprogressUtils.start();
    window.onload = function(){nprogressUtils.done();};
  </script>
</body>
</html>
